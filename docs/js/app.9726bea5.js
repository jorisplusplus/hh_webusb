(function(e){function t(t){for(var r,i,o=t[0],c=t[1],l=t[2],d=0,f=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&f.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(f.length)f.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(r=!1)}r&&(s.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},s=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"00b0":function(e,t,n){},"034f":function(e,t,n){"use strict";n("85ec")},"34f1":function(e,t,n){"use strict";n("d051")},"45dd":function(e,t,n){"use strict";n("d6c3")},4798:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("becf"),n("cabf"),n("3c76");var r,a,s,i,o=n("2b0e"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flexible-content"},[n("mdb-modal",{directives:[{name:"show",rawName:"v-show",value:!e.is_connected,expression:"!is_connected"}],staticStyle:{cursor:"pointer","z-index":"9999"},attrs:{size:"lg"},nativeOn:{click:function(t){return e.connect()}}},[n("mdb-modal-header",[n("mdb-modal-title",[e._v("Let's get started")])],1),n("mdb-modal-body",[e._v("Click anywhere to connect to your CampZone2020 Event Badge via USB")])],1),n("div",{staticClass:"sidebar-fixed position-fixed"},[e._m(0),n("mdb-list-group",{staticClass:"list-group-flush"},[n("router-link",{attrs:{to:"/programming"},nativeOn:{click:function(t){e.activeItem=2}}},[n("mdb-list-group-item",{class:2===e.activeItem&&"active",attrs:{action:!0}},[n("mdb-icon",{staticClass:"mr-3",staticStyle:{width:"16px","text-align":"center"},attrs:{icon:"i-cursor"}}),e._v("Programming & Files")],1)],1)],1)],1),n("div",{staticClass:"container"},[n("div",{staticClass:"placement"},e._l(e.messages,(function(t){return n("mdb-toast-notification",{key:t.id,attrs:{title:t.title,message:t.message,icon:t.icon,iconColor:t.color,show:e.show}})})),1)]),n("main",[n("div",{staticClass:"p-5"},[n("router-view",{on:{genNotification:e.onNotification}})],1),n("ftr",{staticClass:"text-center font-small darken-2",attrs:{color:"primary-color-dark"}},[n("div",{staticClass:"pb-4 pt-4"},[n("a",{attrs:{href:"https://twitter.com/hackzonenl"}},[n("mdb-icon",{staticClass:"mr-3",attrs:{fab:"",icon:"twitter"}})],1),n("a",{attrs:{href:"https://www.youtube.com/watch?v=G0mEW8f2vac"}},[n("mdb-icon",{staticClass:"mr-3",attrs:{fab:"",icon:"youtube"}})],1),n("a",{attrs:{href:"https://github.com/hackzone"}},[n("mdb-icon",{staticClass:"mr-3",attrs:{fab:"",icon:"github"}})],1)])])],1)],1)},l=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("a",{staticClass:"logo-wrapper"},[r("img",{staticClass:"img-fluid",attrs:{alt:"",src:n("fe94")}})])}],u=(n("a434"),n("91c9")),d=n("b85c"),f=n("1da1"),p=(n("96cf"),n("c19f"),n("ace4"),n("d3b7"),n("5cc6"),n("907a"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("84c3"),n("fb2c"),n("2ca0"),n("fb6a"),n("b64b"),n("ac1f"),n("1276"),n("1157"),n("c4e3")),m=void 0,g={opened:!1},b=0,h=0,v=12,_=0,w={},y=3;function x(){var e=C(0,1,"beat"),t=e.buffer,n=e.message_id;A(t,n,!0).then((function(e){console.debug("Heartbeat")}),(function(e){console.log("Heartbeat no response")}))}function k(e,t){_++;var n=new ArrayBuffer(12+e),r=new Uint8Array(n);return new DataView(n).setUint16(0,t,!0),new DataView(n).setUint32(2,e,!0),new DataView(n).setUint32(8,_,!0),r[6]=222,r[7]=173,{buffer:r,message_id:_}}function C(e,t,n){for(var r=k(n.length+1+e,t,s),a=r.buffer,s=r.message_id,i=0;i<n.length;i++)a[v+i]=n.charCodeAt(i);return a[v+n.length]=0,{buffer:a,message_id:s}}function O(e){return(e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array)&&(e=e.buffer),console.log(e),_++,new DataView(e).setUint32(8,_,!0),_}function A(e,t){var n,r,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=new Promise((function(e,t){n=e,r=t})),i={buffer:e,resolve:function(e){if(a){if(0===e.byteLength)return n(""),!0;var t=new TextDecoder("ascii");return n(t.decode(e)),!0}return n(e),!0},reject:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!n&&i.retries<=y?(i.retries++,console.log(e),O(e),g.transferOut(4,e),!1):(r(t),!0)},retries:0};return w[t]=i,g.transferOut(4,e),s}function j(e){console.log("Fetching",e),void 0!==e&&""!==e||(e="/");for(var t=k(e.length+1,4096),n=t.buffer,r=t.message_id,a=0;a<e.length;a++)n[v+a]=e.charCodeAt(a);return n[v+e.length]=0,A(n,r,!0)}function T(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=C(0,4097,e),r=n.buffer,a=n.message_id;return console.log("Reading: "+e),A(r,a,t).then((function(e){return"Can't open file"===e&&(e=void 0),e}))}function z(e){console.log(e);var t=C(0,4098,e),n=t.buffer,r=t.message_id;return A(n,r)}function R(e){return E.apply(this,arguments)}function E(){return E=Object(f["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,j(t);case 2:n=e.sent,r=n.split("\n"),r.unshift(),console.log(r),a=1;case 7:if(!(a<r.length)){e.next=19;break}if(s=r[a],"d"!=s.charAt(0)){e.next=14;break}return e.next=12,R(t+"/"+s.substr(1));case 12:e.next=16;break;case 14:return e.next=16,U(t+"/"+s.substr(1));case 16:a++,e.next=7;break;case 19:return e.next=21,U(t);case 21:case"end":return e.stop()}}),e)}))),E.apply(this,arguments)}function N(e){return S.apply(this,arguments)}function S(){return S=Object(f["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,i,o,c=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:void 0,void 0===n&&(n=new p),e.next=4,j(t);case 4:r=e.sent,a=r.split("\n"),a.unshift(),console.log(a),s=1;case 9:if(!(s<a.length)){e.next=23;break}if(i=a[s],"d"!=i.charAt(0)){e.next=16;break}return e.next=14,N(t+"/"+i.substr(1),n.folder(i.substr(1)));case 14:e.next=20;break;case 16:return e.next=18,T(t+"/"+i.substr(1));case 18:o=e.sent,n.file(i.substr(1),o);case 20:s++,e.next=9;break;case 23:return e.abrupt("return",n);case 24:case"end":return e.stop()}}),e)}))),S.apply(this,arguments)}function U(e){console.log("Deleting: "+e);var t=C(0,4099,e),n=t.buffer,r=t.message_id;return A(n,r)}function P(e){e.startsWith("/flash")&&(e=e.slice("/flash".length));var t=C(0,0,e),n=t.buffer,r=t.message_id;return A(n,r)}function M(e,t){for(var n=k(e.length+1+t.length+1,4101),r=n.buffer,a=n.message_id,s=0;s<e.length;s++)r[v+s]=e.charCodeAt(s);r[v+e.length]=0;for(var i=0;i<t.length;i++)r[v+e.length+1+i]=t.charCodeAt(i);return r[v+e.length+1+t.length]=0,A(r,a)}function D(e,t){console.log(e);for(var n=C(t.length,4098,e),r=n.buffer,a=n.message_id,s=0;s<t.length;s++)r[v+e.length+1+s]=t.charCodeAt(s);return A(r,a)}function B(e,t){var n=C(t.byteLength,4098,e),r=n.buffer,a=n.message_id,s=new Uint8Array(r);return s.set(new Uint8Array(t),v+e.length+1),r=s.buffer,A(r,a)}function L(e){var t=C(0,4102,e),n=t.buffer,r=t.message_id;return A(n,r)}function I(e,t,n){var r=void 0,a=void 0;if(3===e&&0===t){r=new TextDecoder("ascii");var s=r.decode(n);console.log(s),i&&i(s)}if(1!==e||0!==t)for(var o in w){var c=w[o];if(o<t)c.reject("No response"),delete w[o];else if(o==t){if(3===n.byteLength){var l=new TextDecoder("ascii"),u=l.decode(n.slice(0,2));"er"===u?c.reject("Unspecified error",!0):c.resolve(n,!0)}else c.resolve(n);delete w[o]}}else if(r=new TextDecoder("ascii"),a=r.decode(n),a=a.substring(0,2),"to"===a)for(var d in w){var f=w[d];f.reject("Timeout")||(w[_]=f),delete w[d]}else if("te"===a)for(var p in w){var m=w[p];m.reject("Timeout")||(w[_]=m),delete w[p]}}function V(e){i=e}function F(e){var t=new TextEncoder;return g.transferOut(3,t.encode(e)),!0}var J=function e(){g.transferIn(3,64).then((function(t){var n=new TextDecoder("ascii");i(n.decode(t.data.buffer)),e()}),(function(e){m.onReceiveError(e)}))},G=function e(){g.transferIn(4,64).then((function(t){var n=0,i=t.data.byteLength;while(n!=i)if(h==b){if(i-n<12)break;Y(t.data.buffer.slice(n,n+12))?(a=new ArrayBuffer(b),console.log("Command: "+r+" Size: "+b+" id: "+s),0==b&&I(r,s,a)):(console.log("Error in packet header"),h=0,b=0),n+=12}else{var o=Math.min(b,i-n,b-h);new Uint8Array(a,h,b-h).set(new Uint8Array(t.data.buffer,n,o)),n+=o,h+=o,console.log("Transfer status: "+h+"/"+b),h==b&&I(r,s,a)}e()}),(function(e){m.onReceiveError(e)}))};function Y(e){var t=new DataView(e);r=t.getUint16(0,!0),b=t.getUint32(2,!0);var n=t.getUint16(6);return s=t.getUint32(8,!0),h=0,57005==n}var H=[];function Z(){if(void 0!==g&&g.opened){var e,t=Object(d["a"])(H);try{for(t.s();!(e=t.n()).done;){var n=e.value;n()}}catch(r){t.e(r)}finally{t.f()}H=[]}}function X(){}function q(){return Q.apply(this,arguments)}function Q(){return Q=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=0,b=0,h=0,a=0,s=0,_=1,w={},new TextEncoder,e.next=10,navigator.usb.requestDevice({filters:[{vendorId:51966}]});case 10:return g=e.sent,window.dev=g,e.next=14,g.open();case 14:return e.next=16,g.selectConfiguration(1);case 16:return e.next=18,g.claimInterface(2);case 18:return e.next=20,g.claimInterface(3);case 20:J(),G(),console.log("Connected");case 23:case"end":return e.stop()}}),e)}))),Q.apply(this,arguments)}setInterval(Z,500),setInterval((function(){g.opened&&Object.keys(w).length<5&&x()}),500);var K=void 0;setInterval((function(){K.is_connected=void 0!==g&&g.opened}),1e3),setInterval((function(){for(var e=[],t=0;t<K.messages.length;t++)K.messages[t].lifetime--,K.messages[t].lifetime<=0&&e.unshift(t);for(var n=0;n<e.length;n++)K.messages.splice(e[n],1)}),100);var W={name:"AdminTemplate",components:{mdbModal:u["mdbModal"],mdbModalHeader:u["mdbModalHeader"],mdbModalTitle:u["mdbModalTitle"],mdbModalBody:u["mdbModalBody"],mdbListGroup:u["mdbListGroup"],mdbListGroupItem:u["mdbListGroupItem"],mdbIcon:u["mdbIcon"],mdbToastNotification:u["mdbToastNotification"],ftr:u["mdbFooter"]},methods:{connect:q,onNotification:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"elegant",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:30,s={id:K.message_id,title:t,message:e,icon:n,color:r,lifetime:a};K.message_id++,K.messages.push(s)}},data:function(){return{show:!0,message_id:1,messages:[],activeItem:2,is_connected:void 0!==g&&g.opened}},beforeMount:function(){K=this,this.activeItem=2},mixins:[u["waves"]]},$=W,ee=(n("034f"),n("34f1"),n("2877")),te=Object(ee["a"])($,c,l,!1,null,"dc12bdcc",null),ne=te.exports,re=n("8c4f"),ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{attrs:{id:"apps"}},[e.installing?n("mdb-modal",{staticStyle:{cursor:"pointer","z-index":"9999"},attrs:{size:"lg"}},[n("mdb-modal-body",[e._v(" Currently writing: "+e._s(e.installing_file)+" "),n("mdb-progress",{attrs:{height:20},model:{value:e.installing_progress,callback:function(t){e.installing_progress=t},expression:"installing_progress"}})],1)],1):e._e(),n("mdb-row",[n("mdb-col",{attrs:{md:"5"}},[n("mdb-card",{staticClass:"mb-4"},[n("mdb-card-body",{staticClass:"badge_container"},[n("mdb-row",[n("mdb-col",{staticClass:"nav-left",attrs:{sm:"4"}},[n("mdb-btn",{attrs:{color:"primary",title:"Previous Page",size:"sm"},on:{click:e.pagedec}},[n("i",{staticClass:"fas fa-arrow-left fa-3x"})])],1),n("mdb-col",{staticClass:"page",attrs:{sm:"4"}},[n("H1",[e._v(e._s(e.current_page))])],1),n("mdb-col",{staticClass:"nav-right",attrs:{sm:"4"}},[n("mdb-btn",{attrs:{color:"tertiary",title:"Next Page",size:"sm"},on:{click:e.pageinc}},[n("i",{staticClass:"fas fa-arrow-right fa-3x"})])],1)],1),n("mdb-row",{key:e.launcher_items.length,staticClass:"button_grid mt-4 mb-4"},e._l(16,(function(t){return n("div",{key:t,staticClass:"butt",staticStyle:{color:"transparent"},style:{backgroundColor:void 0!==e.launcher_items[t-1+16*e.current_page]&&void 0!==e.launcher_items[t-1+16*e.current_page].colour?e.launcher_items[t-1+16*e.current_page].colour:"gray",filter:t-1===e.current_index?"drop-shadow(gray 0px 0px 5px)":""},attrs:{type:"button",id:t-1+16*e.current_page},on:{click:e.buttonClick}})})),0)],1)],1)],1),n("mdb-col",{attrs:{md:"6"}},[n("mdb-card",{staticClass:"mb-4"},[n("mdb-card-header",[e._v("Configure home screen buttons")]),e.current_index>=0?n("mdb-card-body",[n("span",[e._v("Currently configured app")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.current_app_slug,expression:"current_app_slug"}],staticClass:"browser-default custom-select",on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.current_app_slug=t.target.multiple?n:n[0]},e.update_current_launcher_item]}},[n("option",{attrs:{value:"none"}},[n("b",[e._v("No app")])]),e._l(e.local_apps,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])}))],2),void 0!==e.current_app?n("div",{staticClass:"mt-3"},[n("p",[n("strong",[e._v(e._s(e.current_app.name))])]),n("vue-markdown",{attrs:{source:e.current_app.description}}),1==e.store_apps.filter((function(t){return t.name===e.current_app.name})).length&&parseInt(e.store_apps.filter((function(t){return t.name===e.current_app.name}))[0].revision)!==e.current_app.revision?n("p",[e._v("An update is available for this app "),parseInt(e.store_apps.filter((function(t){return t.name===e.current_app.name}))[0].revision)!==e.current_app.revision?n("mdb-btn",{class:{disabled:e.installing},attrs:{color:"primary",size:"sm"},on:{click:function(t){return e.install_app(e.current_app.slug,e.is_update=!0)}}},[e._v("Install")]):e._e()],1):e._e()],1):e._e(),n("sketch-picker",{on:{input:e.update_current_colour},model:{value:e.color_picker,callback:function(t){e.color_picker=t},expression:"color_picker"}})],1):n("mdb-card-body",[n("span",[e._v("Here you can connect apps to buttons on the homescreen you see when your badge starts up. Select a button to configure on the left.")])])],1)],1)],1),n("mdb-row",[n("mdb-col",{attrs:{md:"12"}},[n("mdb-card",{staticClass:"mb-4"},[n("mdb-card-header",[e._v("Install apps from app store")]),n("mdb-card-body",[n("mdb-row",[n("mdb-col",{attrs:{sm:"6",md:"3"}},[n("span",[e._v("Filter category")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.selected_store_category,expression:"selected_store_category"}],staticClass:"browser-default custom-select",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selected_store_category=t.target.multiple?n:n[0]}}},e._l(e.categories,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])})),0)]),n("mdb-col",{attrs:{sm:"6",md:"3"}},[n("span",[e._v("Filter development state")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.selected_store_state,expression:"selected_store_state"}],staticClass:"browser-default custom-select",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selected_store_state=t.target.multiple?n:n[0]}}},e._l(e.states,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])})),0)]),n("mdb-col",{attrs:{sm:"6"}},[n("span",[e._v("Apps uploaded to hatchery.badge.team will automatically show up here for everyone. Be sure to upload yours! :)")])])],1),n("mdb-tbl",{staticClass:"table-striped"},[n("thead",[n("tr",[n("th",[e._v("App name")]),n("th",[e._v("Description")]),n("th",[e._v("Category")]),n("th",[e._v("State")]),n("th",[e._v("Author")]),n("th",[e._v("Revision")]),n("th",[e._v("Install")])])]),n("tbody",e._l(e.filtered_store_apps,(function(t){return n("tr",{key:t.slug},[n("th",{attrs:{scope:"row"}},[e._v(e._s(t.name))]),n("td",[e._v(e._s(t.description))]),n("td",[e._v(e._s(t.category))]),n("td",[e._v(e._s(t.status))]),n("td",[e._v(e._s(t.author||"Unknown"))]),n("td",[e._v(e._s(t.revision))]),n("td",[-1===e.local_apps.indexOf(t.slug)?n("mdb-btn",{class:{disabled:e.installing},attrs:{color:"primary",size:"sm"},on:{click:function(n){return e.install_app(t.slug)}}},[e._v("Install")]):n("mdb-btn",{attrs:{color:"red",size:"sm"},on:{click:function(n){return e.uninstall_app(t.slug)}}},[e._v("Uninstall")])],1)])})),0)])],1)],1)],1)],1)],1)},se=[],ie=n("3835"),oe=n("5530"),ce=(n("4e82"),n("4de4"),n("b0c0"),n("a15b"),n("ddb0"),n("25f0"),n("e9c4"),n("9ce6")),le=n.n(ce),ue=n("c345"),de=n("d7ac"),fe=n("632e");window.pako=de,window.untar=fe,window.VueMarkdown=le.a;var pe=void 0,me={name:"Apps",components:{mdbRow:u["mdbRow"],mdbCol:u["mdbCol"],mdbBtn:u["mdbBtn"],mdbTbl:u["mdbTbl"],mdbProgress:u["mdbProgress"],mdbModal:u["mdbModal"],mdbModalBody:u["mdbModalBody"],mdbCard:u["mdbCard"],mdbCardBody:u["mdbCardBody"],mdbCardHeader:u["mdbCardHeader"],"vue-markdown":le.a,"sketch-picker":ue["Sketch"]},beforeMount:function(){pe=this,X().then(Object(f["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,T("/flash/config/system-launcher_items.json");case 2:t=e.sent;try{n=JSON.parse(t)}catch(r){n={}}return pe.launcher_items=n,e.next=7,pe.update_local_apps();case 7:case"end":return e.stop()}}),e)})))),fetch("https://hatchery.badge.team/basket/campzone2020/list/json",{mode:"cors"}).then((function(e){e.json().then((function(e){pe.store_apps=e;var t,n=Object(d["a"])(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;-1===pe.categories.indexOf(r.category)&&pe.categories.push(r.category),-1===pe.states.indexOf(r.status)&&pe.states.push(r.status)}}catch(a){n.e(a)}finally{n.f()}}))}))},methods:{update_local_apps:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,s,i,o,c,l,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=["/flash/apps"],n=[],r=0,a=t;case 3:if(!(r<a.length)){e.next=30;break}return s=a[r],e.next=7,j(s);case 7:i=e.sent,o=i.split("\n"),c=Object(d["a"])(o),e.prev=10,c.s();case 12:if((l=c.n()).done){e.next=19;break}if(u=l.value,"d"===u[0]){e.next=16;break}return e.abrupt("continue",17);case 16:n.push(u.substr(1));case 17:e.next=12;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e["catch"](10),c.e(e.t0);case 24:return e.prev=24,c.f(),e.finish(24);case 27:r++,e.next=3;break;case 30:pe.local_apps=n;case 31:case"end":return e.stop()}}),e,null,[[10,21,24,27]])})));function t(){return e.apply(this,arguments)}return t}(),get_local_app_metadata:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:"/flash/apps/",e.next=3,T(n+t+"/metadata.json");case 3:r=e.sent;try{a=JSON.parse(r)}catch(i){a={}}return e.abrupt("return",Object(oe["a"])(Object(oe["a"])({},a),{},{slug:t}));case 6:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),get_app_metadata:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n="https://badge.team/eggs/get/"+t+"/json",e.next=3,fetch(n);case 3:return r=e.sent,e.next=6,r.json();case 6:return a=e.sent,s=Object.keys(a.releases).sort(),i=s[s.length-1],a["latest_release_url"]=a.releases[i][0]["url"],e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),install_app:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,i,o,c,l,u,f,p,m,g,b,h,v,_,w,y,x,k,C,O,A=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=A.length>1&&void 0!==A[1]&&A[1],r=A.length>2&&void 0!==A[2]?A[2]:"/flash/apps/",pe.installing_file="",pe.installing_progress=0,pe.installing=!0,e.prev=5,e.next=8,pe.get_app_metadata(t);case 8:return a=e.sent,e.next=11,fetch(a.latest_release_url);case 11:return s=e.sent,e.next=14,s.arrayBuffer();case 14:return i=e.sent,o=de["inflate"](i),e.next=18,fe(o.buffer);case 18:c=e.sent,l=[],u=Object(d["a"])(c);try{for(u.s();!(f=u.n()).done;)for(p=f.value,m=p.name.split("/"),m.pop(),g=1;g<=m.length;g++)l.push(r+m.slice(0,g).join("/"))}catch(j){u.e(j)}finally{u.f()}if(n){e.next=42;break}b=l.filter((function(e,t,n){return n.indexOf(e)===t})),h=Object(d["a"])(b),e.prev=25,h.s();case 27:if((v=h.n()).done){e.next=34;break}return _=v.value,console.info("Creating folder",_),e.next=32,L(_);case 32:e.next=27;break;case 34:e.next=39;break;case 36:e.prev=36,e.t0=e["catch"](25),h.e(e.t0);case 39:return e.prev=39,h.f(),e.finish(39);case 42:w=Object(d["a"])(c.entries()),e.prev=43,w.s();case 45:if((y=w.n()).done){e.next=55;break}return x=Object(ie["a"])(y.value,2),k=x[0],C=x[1],O=r+C.name,console.info("Writing file",O),pe.installing_file=O,pe.installing_progress=Math.floor(k/(c.length-1)*100),e.next=53,B(O,C.buffer);case 53:e.next=45;break;case 55:e.next=60;break;case 57:e.prev=57,e.t1=e["catch"](43),w.e(e.t1);case 60:return e.prev=60,w.f(),e.finish(60);case 63:if(!n){e.next=69;break}return e.next=66,pe.get_local_app_metadata(t,r);case 66:pe.current_app=e.sent,e.next=70;break;case 69:pe.local_apps.push(t);case 70:pe.$emit("genNotification","Installed "+a.name+" successfully"),e.next=84;break;case 73:return e.prev=73,e.t2=e["catch"](5),e.prev=75,e.next=78,R(r+t);case 78:e.next=83;break;case 80:e.prev=80,e.t3=e["catch"](75),console.error("Error removing app dir for "+t,e.t3);case 83:pe.$emit("genNotification","Failed to install "+t+". Please try again.");case 84:return e.prev=84,pe.installing=!1,e.finish(84);case 87:case"end":return e.stop()}}),e,null,[[5,73,84,87],[25,36,39,42],[43,57,60,63],[75,80]])})));function t(t){return e.apply(this,arguments)}return t}(),uninstall_app:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var n,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:"/flash/apps/",e.prev=1,e.next=4,R(n+t);case 4:pe.$emit("genNotification","Uninstalled "+t+" successfully"),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](1),pe.$emit("genNotification","Uninstalled "+t+" not successfully","exclamation");case 10:pe.update_local_apps();case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));function t(t){return e.apply(this,arguments)}return t}(),buttonClick:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=parseInt(t.target.id),pe.current_index=n,n in pe.launcher_items){e.next=7;break}pe.current_app=void 0,pe.current_app_slug="none",e.next=13;break;case 7:return r=pe.launcher_items[n.toString()],pe.color_picker=pe.current_colour=r.colour,pe.current_app_slug=r.slug,e.next=12,pe.get_local_app_metadata(r.slug);case 12:pe.current_app=e.sent;case 13:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),update_current_colour:function(e){clearTimeout(pe.timeout_colorpicker),pe.timeout_colorpicker=setTimeout((function(){pe.current_colour=e.hex,pe.update_current_launcher_item()}),800)},update_current_launcher_item:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=pe.current_index,n=pe.current_app_slug,"none"!==n){e.next=6;break}delete pe.launcher_items[t.toString()],e.next=11;break;case 6:return e.next=8,pe.get_local_app_metadata(n);case 8:r=e.sent,pe.current_app=r,pe.launcher_items[t.toString()]={slug:n,name:r.name,colour:pe.current_colour};case 11:return e.next=13,D("/flash/config/system-launcher_items.json",JSON.stringify(pe.launcher_items));case 13:pe.$emit("genNotification","Updated homescreen");case 14:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),pageinc:function(){pe.current_page+=1},pagedec:function(){pe.current_page>0&&(pe.current_page-=1)}},data:function(){return{timeout_colorpicker:null,current_page:0,current_index:-1,current_app:void 0,current_app_slug:void 0,current_colour:"#4A90E2",launcher_items:{},local_apps:[],store_apps:[],selected_store_category:"all",selected_store_state:"working",categories:["all"],states:["working","all"],installing:!1,installing_file:"",installing_progress:0,color_picker:"007F7F"}},computed:{filtered_store_apps:function(){return"all"===pe.selected_store_category&&"all"===pe.selected_store_state?pe.store_apps:pe.store_apps.filter((function(e){return("all"===pe.selected_store_category||e.category===pe.selected_store_category)&&("all"===pe.selected_store_state||e.status===pe.selected_store_state)}))}}},ge=me,be=(n("7e7c"),Object(ee["a"])(ge,ae,se,!1,null,"2997ef9a",null)),he=be.exports,ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{attrs:{id:"programming"}},[n("mdb-card",{staticClass:"mb-4",attrs:{ondrop:"itemDrop"}},[n("mdb-card-body",[n("section",[n("mdb-row",[n("mdb-col",{attrs:{sm:"6",md:"4",lg:"3"}},[n("mdb-btn",{attrs:{color:"gray",size:"lg",title:"Make folder",icon:"folder-plus"},on:{click:function(t){return e.mkdir_ui()}}}),n("mdb-btn",{attrs:{color:"gray",size:"lg",title:"Make file",icon:"file"},on:{click:function(t){return e.mkfile_ui()}}}),n("mdb-btn",{attrs:{color:"gray",size:"lg",title:"Rename file",icon:"file-alt"},on:{click:function(t){return e.rename_ui()}}}),n("mdb-btn",{attrs:{color:"gray",size:"lg",title:"Delete file",icon:"trash"},on:{click:function(t){return e.trash_ui()}}}),n("mdb-btn",{attrs:{color:"gray",size:"lg",title:"Download folder",icon:"download"},on:{click:function(t){return e.download_ui()}}})],1),n("mdb-col",{attrs:{sm:"2",md:"2",lg:"2"}},[n("mdb-btn",{attrs:{color:"gray",size:"lg",title:"Run file",icon:"play"},on:{click:function(t){return e.runfile_ui()}}}),n("mdb-btn",{attrs:{color:"gray",size:"lg",title:"Save file",icon:"save"},on:{click:function(t){return e.save_ui()}}})],1),n("mdb-col",{staticClass:"mt-2",attrs:{sm:"4",md:"6",lg:"7"}},[n("mdb-input",{attrs:{label:"Filename",size:"md"},model:{value:e.editorfilename,callback:function(t){e.editorfilename=t},expression:"editorfilename"}})],1)],1),n("mdb-row",{staticClass:"mt-3"},[n("mdb-col",{attrs:{sm:"6",md:"4",lg:"3"}},[n("v-jstree",{attrs:{data:e.files,draggable:"",multiple:"","allow-batch":"","whole-row":""},on:{"item-click":e.itemClick,"item-toggle":e.itemToggle,"item-drop-before":e.itemDrop,"item-drop":e.otherDrop,"item-drag-start":e.itemDragStart}})],1),n("mdb-col",{attrs:{sm:"6",md:"8",lg:"9"}},[n("editor",{attrs:{lang:"python",theme:"monokai",height:"500"},model:{value:e.content_editor,callback:function(t){e.content_editor=t},expression:"content_editor"}})],1)],1)],1)])],1),n("mdb-card",{staticClass:"mb-4"},[n("mdb-card-body",[n("section",[e._v(" Python terminal "),n("div",{staticClass:"md-form"},[n("Terminal",{ref:"terminal",on:{data:e.commandpython}})],1)])])],1)],1)},_e=[],we=(n("5319"),n("d3c8")),ye=n.n(we),xe=(n("061c"),n("8882"),n("14d4"),n("7c9e")),ke=n("21a6"),Ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"xterm"})},Oe=[],Ae=n("fcf3"),je=n("47d0"),Te=(n("abb2"),{data:function(){return{terminal:null,fitAddon:null,charCount:0}},mounted:function(){var e=this;this.terminal=new Ae["Terminal"]({convertEol:!0}),this.fitAddon=new je["FitAddon"],this.terminal.loadAddon(this.fitAddon),this.terminal.open(this.$el),this.terminal.write(">>> "),this.fitAddon.fit(),window.addEventListener("resize",this.handleResize),this.terminal.onData((function(t){e.$emit("data",t)}))},beforeDestroy:function(){window.removeEventListener("resize",this.handleResize),this.terminal.dispose()},methods:{handleResize:function(e){this.fitAddon.fit()},handleLog:function(e){this.terminal.write(e.replace("\n","\r\n"))}}}),ze=Te,Re=Object(ee["a"])(ze,Ce,Oe,!1,null,null,null),Ee=Re.exports;window.itemDrop=function(){console.log("nope")};var Ne=void 0,Se={model:{}},Ue=void 0,Pe=["txt","csv","json","py","ini","info","md","log","conf","cfg"];function Me(e){Ne&&Ne.$refs&&Ne.$refs.terminal&&Ne.$refs.terminal.handleLog(e)}var De,Be={name:"Programming",components:{mdbBtn:u["mdbBtn"],mdbRow:u["mdbRow"],mdbCol:u["mdbCol"],mdbCard:u["mdbCard"],mdbCardBody:u["mdbCardBody"],mdbInput:u["mdbInput"],VJstree:ye.a,editor:xe,Terminal:Ee},beforeMount:function(){var e=this;Ne=this,V(Me),X().then((function(){return e.itemClick({model:e.files[0]})}))},methods:{parseDir:function(e){var t=e.split("\n");console.log(t);for(var n=[],r="/"===t[0]?"":t[0],a=1;a<t.length;a++){var s="d"===t[a].charAt(0),i={};i["text"]=t[a].substr(1),i["full_path"]=r+"/"+i["text"],s?("dflash"===t[a]?i["icon"]="fas fa-microchip":"dsdcard"===t[a]?i["icon"]="fas fa-sd-card":i["icon"]="far fa-folder",i["is_dir"]=!0,i["dragDisabled"]=!0):i["icon"]="far fa-file",i["opened"]=!1,i["disabled"]=!1,i["selected"]=!1,s&&(i["children"]=[{text:"Click parent to refresh",icon:"none",isDummy:!0}]),n.push(i)}return n},updateNode:function(e){var t=e.model;if(e.model.is_dir)console.log("Updating: "+e.model.full_path),j(t.full_path).then((function(e){for(var n=Ne.parseDir(e),r=0;r<n.length;r++){var a,s=Object(d["a"])(t.children);try{for(s.s();!(a=s.n()).done;){var i=a.value;i.full_path===n[r].full_path&&(n[r]=i)}}catch(o){s.e(o)}finally{s.f()}}console.log(n),t.children=n,t.opened=!0}));else{var n=e.model.full_path.split(".");n.length>1&&Pe.indexOf(n[n.length-1].toLowerCase())>=0&&(Ne.content_editor===Ne.content_original||window.confirm("Unsaved changes will be lost. Are you sure?"))&&T(e.model.full_path).then((function(t){Ne.content_editor=t,Ne.content_original=t,Ne.editorfilename=e.model.full_path,Ne.$emit("genNotification","Load success","Load success","check","green",30)}))}},itemClick:function(e){Se.model.selected=!1,e.model.selected=!0,Se=e,Ne.updateNode(e)},itemToggle:function(e){e.data.is_dir&&e.data.children.length&&e.data.children[0].isDummy&&e.data.opened&&!0!==e.data.isToggled&&(e.data.isToggled=!0,Ne.updateNode(e))},otherDrop:function(e,t,n,r){},itemDrop:function(e,t,n,r){if(void 0==n)(function(){console.log("file upload"),console.log(r);for(var t=e.model.is_dir?e:e.$parent,n=t.model.full_path,a=function(e){var a=r.dataTransfer.files[e],s=new FileReader;s.onload=function(i){console.log(s.result),B(n+"/"+a.name,s.result),e==r.dataTransfer.files.length&&Ne.updateNode(t)},console.log(a),s.readAsArrayBuffer(a)},s=0;s<r.dataTransfer.files.length;s++)a(s)})();else{if(console.log("drop"),console.log(e),n.is_dir)return;var a=e.model.is_dir?e:e.$parent,s=a.model.full_path,i=n.full_path,o=s+"/"+n.text;M(i,o),Ne.updateNode(Ue),Ne.updateNode(a)}},itemDragStart:function(e,t,n){var r=e.model.is_dir?e:e.$parent;console.log("Start:"),console.log(r),Ue=r},trash_ui:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=Se.model.full_path,!confirm("Delete: "+t+"?")){e.next=13;break}if(!Se.model.is_dir){e.next=8;break}return e.next=5,R(t);case 5:t==Ne.editorfilename.substr(0,t.length)&&(Ne.editorfilename="/flash/cache/scratch.py",Ne.content_editor="",Ne.content_original=""),e.next=12;break;case 8:U(t),Ne.editorfilename="/flash/cache/scratch.py",Ne.content_editor="",Ne.content_original="";case 12:Ne.itemClick(Se.$parent);case 13:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),download_ui:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!Se.model.is_dir){e.next=8;break}return t=Se.model.full_path,e.next=4,N(t);case 4:n=e.sent,n.generateAsync({type:"blob"}).then((function(e){Object(ke["saveAs"])(e,"download.zip"),Ne.$emit("genNotification","Download succes","Download succes","check","green",30)})),e.next=9;break;case 8:Ne.$emit("genNotification","Can only download folder","Download failed","times","red",30);case 9:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),save_ui:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=Ne.editorfilename.split("."),!(t.length>1&&Pe.indexOf(t[t.length-1].toLowerCase())>=0||window.confirm("File: "+Ne.editorfilename+" has not a textfile extension"))){e.next=7;break}return e.next=4,D(Ne.editorfilename,Ne.content_editor);case 4:Ne.content_original=Ne.content_editor,Ne.updateNode(Se.$parent),Ne.$emit("genNotification","Save succes","Save succes","check","green",30);case 7:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),rename_ui:function(){if(!Se.model.is_dir){var e=Se.model.full_path,t=Se.$parent.model.full_path,n=prompt("Please enter new filename","");null!=n&&(M(e,t+"/"+n),e===Ne.editorfilename&&(Ne.editorfilename=t+"/"+n),Ne.itemClick(Se.$parent))}},mkdir_ui:function(){var e=prompt("Please enter new directory name",""),t=Se.model.is_dir?Se:Se.$parent,n=t.model.full_path;e&&(L(n+"/"+e),Ne.itemClick(t))},mkfile_ui:function(){var e=prompt("Please enter new filename",""),t=Se.model.is_dir?Se:Se.$parent,n=t.model.full_path;e&&(z(n+"/"+e),Ne.itemClick(t))},runfile_ui:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(Ne.content_editor===Ne.content_original){e.next=4;break}return e.next=3,D(Ne.editorfilename,Ne.content_editor);case 3:Ne.content_original=Ne.content_editor;case 4:t=Ne.editorfilename.replace("/flash/","/").replace("/__init__.py","").replace(".py",""),t.length>1&&"/"===t[0]&&(t=t.substr(1)),t=t.replace("/","."),P(t);case 8:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),info:function(){},commandpython:function(e){F(e)},connect:q},data:function(){return{content_editor:"",content_original:"",editorfilename:"/flash/cache/scratch.py",show:!0,files:[{text:"flash",full_path:"/",icon:"fas fa-microchip",is_dir:!0,children:[{text:"Click parent to refresh",icon:"none",isDummy:!0}]}]}}},Le=Be,Ie=(n("c191"),n("ca0b"),Object(ee["a"])(Le,ve,_e,!1,null,"ba3a6484",null)),Ve=Ie.exports,Fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{attrs:{id:"apps"}},[n("mdb-row",[n("mdb-col",{attrs:{md:"12"}},[n("mdb-card",{staticClass:"mb-4"},[n("mdb-card-header",[e._v("Update your badge firmware")]),n("mdb-card-body",[e._v(" Your badge is running firmware version: "+e._s(e.checking_badge?"Checking...":e.badge_firmware_version)),n("br"),n("br"),e._v(" Latest available on the server: "+e._s(e.checking_server?"Checking...":e.server_firmware_version)),n("br"),n("br"),e._v(" Make sure you configure your WiFi on the Settings page first. Pressing the update button will reboot the badge. If WiFi can't connect, the LEDs will remain off. Update progress is shown with green LEDs. It's safe to disconnect the badge before and during updating, but try to do that only if the screen remains off for 30+ seconds."),n("br"),n("br"),n("mdb-btn",{attrs:{color:"primary",size:"sm"},on:{click:e.update}},[e._v("Update over WiFi")])],1)],1)],1)],1)],1)},Je=[],Ge=void 0,Ye={name:"Update",components:{mdbRow:u["mdbRow"],mdbCol:u["mdbCol"],mdbBtn:u["mdbBtn"],mdbCard:u["mdbCard"],mdbCardBody:u["mdbCardBody"],mdbCardHeader:u["mdbCardHeader"]},beforeMount:function(){Ge=this,X().then(Object(f["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,T("/flash/cache/version.txt");case 2:t=e.sent;try{n=JSON.parse(t)}catch(r){n={firmware:"unknown"}}Ge.badge_firmware_version=n.firmware,Ge.checking_badge=!1;case 6:case"end":return e.stop()}}),e)})))),fetch("https://ota.cz20.hackz.one/version/campzone2020.txt",{mode:"cors"}).then((function(e){e.json().then((function(e){Ge.server_firmware_version=e.build,Ge.server_firmware_name=e.name,Ge.checking_server=!1}))}))},methods:{update:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:F("system.ota()\r\n");case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},data:function(){return{badge_firmware_version:0,badge_firmware_name:"",server_firmware_version:0,server_firmware_name:"",checking_badge:!0,checking_server:!0}},computed:{filtered_store_apps:function(){return"all"===Ge.selected_store_category&&"all"===Ge.selected_store_state?Ge.store_apps:Ge.store_apps.filter((function(e){return("all"===Ge.selected_store_category||e.category===Ge.selected_store_category)&&("all"===Ge.selected_store_state||e.status===Ge.selected_store_state)}))}}},He=Ye,Ze=(n("45dd"),Object(ee["a"])(He,Fe,Je,!1,null,"5eb29d16",null)),Xe=Ze.exports,qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{attrs:{id:"settings"}},[n("mdb-row",[n("mdb-col",{attrs:{sm:"12",xl:"6"}},[n("mdb-card",{staticClass:"mt-4"},[n("mdb-card-header",[e._v("WiFi Settings")]),n("mdb-card-body",[n("form",[n("div",{staticClass:"grey-text"},[n("mdb-input",{attrs:{label:"Access Point name (SSID)",icon:"wifi",type:"email"},model:{value:e.wifi_ssid,callback:function(t){e.wifi_ssid=t},expression:"wifi_ssid"}}),n("mdb-input",{attrs:{label:"Password",icon:"lock",type:"password"},model:{value:e.wifi_password,callback:function(t){e.wifi_password=t},expression:"wifi_password"}})],1)]),n("mdb-btn",{attrs:{color:"primary"},on:{click:e.save_wifi}},[e._v("Save")])],1)],1)],1),n("mdb-col",{attrs:{sm:"12",xl:"6"}},[n("mdb-card",{staticClass:"mt-4"},[n("mdb-card-header",[e._v("Audio Settings")]),n("mdb-card-body",[n("div",{staticClass:"grey-text"},[n("p",[e._v("Volume: "+e._s(e.volume))]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.volume,expression:"volume"}],staticClass:"custom-range",attrs:{type:"range",min:"0",max:"255"},domProps:{value:e.volume},on:{__r:function(t){e.volume=t.target.value}}})]),n("mdb-btn",{attrs:{color:"primary"},on:{click:e.save_audio}},[e._v("Save")])],1)],1)],1),e._l(e.app_slugs,(function(t){return n("mdb-col",{key:t,attrs:{sm:"12",xl:"6"}},[n("mdb-card",{staticClass:"mt-4"},[n("mdb-card-header",[e._v("App - "+e._s(t))]),n("mdb-card-body",[n("vue-json-editor",{attrs:{"show-btns":!1,expandedOnStart:!0},on:{"json-change":e.onJsonChange},model:{value:e.configs[t],callback:function(n){e.$set(e.configs,t,n)},expression:"configs[app_slug]"}}),n("mdb-btn",{attrs:{color:"primary"},on:{click:function(n){return e.save_app(t)}}},[e._v("Save")])],1)],1)],1)}))],2)],1)},Qe=[],Ke=n("45a3"),We={name:"Settings",beforeMount:function(){var e=this;De=this,X().then((function(){return e.update_local_apps()}))},components:{mdbRow:u["mdbRow"],mdbCol:u["mdbCol"],mdbBtn:u["mdbBtn"],mdbInput:u["mdbInput"],mdbCard:u["mdbCard"],mdbCardHeader:u["mdbCardHeader"],mdbCardBody:u["mdbCardBody"],vueJsonEditor:Ke["a"]},methods:{update_local_apps:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,s,i,o,c,l,u,f,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=["/flash/apps"],n=[],r=0,a=t;case 3:if(!(r<a.length)){e.next=42;break}return s=a[r],e.next=7,j(s);case 7:i=e.sent,o=i.split("\n"),c=Object(d["a"])(o),e.prev=10,c.s();case 12:if((l=c.n()).done){e.next=31;break}if(u=l.value,"d"===u[0]){e.next=16;break}return e.abrupt("continue",29);case 16:return f=u.substr(1),p=void 0,e.prev=18,e.next=21,T("/flash/config/app-"+f+".json");case 21:if(p=e.sent,void 0!==p&&p.length){n.push(f);try{De.configs[f]=JSON.parse(p)}catch(m){De.configs[f]={}}}e.next=29;break;case 25:e.prev=25,e.t0=e["catch"](18),1;case 29:e.next=12;break;case 31:e.next=36;break;case 33:e.prev=33,e.t1=e["catch"](10),c.e(e.t1);case 36:return e.prev=36,c.f(),e.finish(36);case 39:r++,e.next=3;break;case 42:De.app_slugs=n;case 43:case"end":return e.stop()}}),e,null,[[10,33,36,39],[18,25]])})));function t(){return e.apply(this,arguments)}return t}(),save_wifi:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,F('import machine, system;machine.nvs_setstr("system", "wifi.ssid", "'+De.wifi_ssid+'");machine.nvs_setstr("system", "wifi.password", "'+De.wifi_password+'");\r\n');case 2:De.$emit("genNotification","WiFi settings updated successfully");case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),save_audio:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,F('import machine, system;machine.nvs_setint("system", "volume", '+De.volume+")\r\n");case 2:De.$emit("genNotification","Audio settings updated successfully");case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),save_app:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,D("/flash/config/app-"+t+".json",JSON.stringify(De.configs[t]));case 2:De.$emit("genNotification","App settings updated successfully");case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),onJsonChange:function(){}},data:function(){return{wifi_ssid:"",wifi_password:"",app_slugs:[],configs:{},volume:255}}},$e=We,et=(n("7d4a"),Object(ee["a"])($e,qe,Qe,!1,null,"4c7fe5ed",null)),tt=et.exports,nt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{attrs:{id:"bad-gateway"}},[r("div",{staticClass:"full"},[r("mdb-row",{staticClass:"bad-gateway-row"},[r("mdb-col",{attrs:{md:"8"}},[r("img",{staticClass:"img-fluid",attrs:{alt:"Error 404",hieght:"20px",src:n("5d8e")}}),r("h2",{staticClass:"h2-responsive mt-3 mb-2"},[e._v("404. That's an error.")]),r("h4",[e._v("The requested URL was not found on this server.")])]),r("mdb-col",{attrs:{md:"4"}},[r("img",{staticClass:"img-fluid",attrs:{alt:"Error 404",src:"https://mdbootstrap.com/img/Others/grafika404-bf.png"}})])],1)],1)])},rt=[],at={name:"BadGateway",components:{mdbRow:u["mdbRow"],mdbCol:u["mdbCol"]},data:function(){return{}}},st=at,it=(n("6d6b"),Object(ee["a"])(st,nt,rt,!1,null,"7bb7c836",null)),ot=it.exports;o["a"].use(re["a"]);var ct=new re["a"]({mode:"history",routes:[{path:"/hh_webusb/apps",name:"Apps",component:he,props:{page:1}},{path:"/hh_webusb/programming",name:"Programming & Files",props:{page:2},component:Ve,alias:"/"},{path:"/hh_webusb/update",name:"Update",props:{page:3},component:Xe},{path:"/hh_webusb/settings",name:"Settings",props:{page:4},component:tt},{path:"/hh_webusb/404",name:"BadGateway",props:{page:5},component:ot},{path:"*",props:{page:5},redirect:"/hh_webusb/404"}]}),lt=n("2f62");o["a"].use(lt["a"]);var ut=new lt["a"].Store({state:{},mutations:{},actions:{}}),dt=n("755e");o["a"].use(dt,{load:{libraries:"places"}}),o["a"].config.productionTip=!1,new o["a"]({router:ct,store:ut,render:function(e){return e(ne)}}).$mount("#app")},"5d8e":function(e,t){e.exports="data:image/png;base64,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"},"68b6":function(e,t,n){},"6d6b":function(e,t,n){"use strict";n("68b6")},"7d4a":function(e,t,n){"use strict";n("4798")},"7e7c":function(e,t,n){"use strict";n("bcc3")},"85ec":function(e,t,n){},"8aee":function(e,t,n){},bcc3:function(e,t,n){},c191:function(e,t,n){"use strict";n("8aee")},ca0b:function(e,t,n){"use strict";n("00b0")},d051:function(e,t,n){},d6c3:function(e,t,n){},fe94:function(e,t,n){e.exports=n.p+"img/hackzone_logo.6cec495f.png"}});
//# sourceMappingURL=app.9726bea5.js.map